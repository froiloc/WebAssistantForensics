{
  "version": "1.0",
  "metadata": {
    "description": "Agent-Dialog-Konfiguration fÃ¼r AXIOM Leitfaden",
    "created": "2025-09-29",
    "agent_name": "SpÃ¼rhund Rex",
    "selector_system": "CSS-Selectors mit data-ref Attributen"
  },
  
  "dialogs": {
    "format-decision": {
      "id": "format-decision",
      "title": "Format-Entscheidungshilfe",
      "description": "Hilft bei der Wahl zwischen HTML, PDF und XLSX",
      "targetSelectors": [
        "#section-step2",
        "#section-step2 [data-ref='format-options']"
      ],
      "initialMessage": "<p>Wuff! ğŸ•â€ğŸ¦º Ich sehe, Sie mÃ¼ssen ein Report-Format wÃ¤hlen.</p><p>Lassen Sie mich Ihnen helfen! WofÃ¼r benÃ¶tigen Sie den Report?</p>",
      "actions": [
        {
          "id": "chat-analysis",
          "type": "showInfo",
          "icon": "ğŸ’¬",
          "label": "Chat-Analysen und interaktive Darstellung",
          "content": "<p>Perfekt! FÃ¼r Chat-Analysen ist <strong>HTML</strong> die beste Wahl! ğŸ¯</p><p>HTML-Reports bieten:</p><ul><li>âœ… Interaktive Navigation</li><li>âœ… Chat-Thread Darstellung</li><li>âœ… Hyperlinks zwischen Beweisen</li><li>âœ… UTF-8 Support fÃ¼r mehrsprachige Inhalte</li></ul>",
          "nextActions": [
            {
              "id": "navigate-to-html",
              "type": "navigate",
              "icon": "ğŸ¯",
              "label": "Zu HTML-Format springen",
              "targetSelectors": ["#section-step2 [data-ref='format-html']"],
              "scrollBehavior": "smooth",
              "highlightDuration": 2000,
              "contextBlock": {
                "targetSelector": "#section-step2 [data-ref='agent-context']",
                "content": "<div class='agent-context-header'><span class='agent-context-icon'>ğŸ•â€ğŸ¦º</span><h4 class='agent-context-title'>Rex' Expertentipp</h4><button class='agent-context-close' onclick='hideContextBlock(\"#section-step2 [data-ref=\\\"agent-context\\\"]\")' aria-label='Tipp schlieÃŸen'>âœ•</button></div><div class='agent-context-content'><p><strong>Rex' Expertentipp:</strong> Bei Chat-Daten aus WhatsApp, Telegram oder Signal ist HTML unschlagbar, weil die Threading-Struktur erhalten bleibt und Emojis korrekt dargestellt werden.</p></div>"
              }
            }
          ]
        },
        {
          "id": "court-reports",
          "type": "showInfo",
          "icon": "âš–ï¸",
          "label": "Gerichtsberichte und offizielle Dokumentation",
          "content": "<p>Ah, fÃ¼r offizielle Zwecke! Dann empfehle ich <strong>PDF</strong>. ğŸ“„</p><p>PDF-Reports sind:</p><ul><li>âœ… UnverÃ¤nderbar und gerichtsfest</li><li>âœ… Druckoptimiert</li><li>âœ… PlattformunabhÃ¤ngig</li><li>âœ… Mit automatischem Inhaltsverzeichnis</li></ul>",
          "nextActions": [
            {
              "id": "navigate-to-pdf",
              "type": "navigate", 
              "icon": "ğŸ“š",
              "label": "Mehr Ã¼ber PDF-Export erfahren",
              "targetSelectors": ["#section-step2 [data-ref='format-pdf']"],
              "contextBlock": {
                "targetSelector": "#section-step2 [data-ref='agent-context']",
                "content": "<div class='agent-context-header'><span class='agent-context-icon'>ğŸ•â€ğŸ¦º</span><h4 class='agent-context-title'>Rex' PDF-Tipp</h4><button class='agent-context-close' onclick='hideContextBlock(\"#section-step2 [data-ref=\\\"agent-context\\\"]\")' aria-label='Tipp schlieÃŸen'>âœ•</button></div><div class='agent-context-content'><p><strong>PDF fÃ¼r Gerichte:</strong> PDF-Reports sind unverÃ¤nderbar und damit gerichtsfest. Sie eignen sich perfekt fÃ¼r finale Dokumentation und offizielle Berichte.</p></div>"
              }
            }
          ]
        },
        {
          "id": "data-analysis",
          "type": "showInfo",
          "icon": "ğŸ“Š",
          "label": "Datenanalyse und Timeline-Auswertung",
          "content": "<p>Ausgezeichnet fÃ¼r Analysen! WÃ¤hlen Sie <strong>XLSX</strong>. ğŸ“ˆ</p><p>XLSX-Exports ermÃ¶glichen:</p><ul><li>âœ… Timeline-Analysen</li><li>âœ… Filterbare Tabellen</li><li>âœ… Statistische Auswertungen</li><li>âœ… Weiterverarbeitung in Excel</li></ul>",
          "nextActions": [
            {
              "id": "navigate-to-xlsx",
              "type": "navigate",
              "icon": "ğŸ“Š", 
              "label": "Zu Excel-Export Details",
              "targetSelectors": ["#section-step2 [data-ref='format-xlsx']"],
              "contextBlock": {
                "targetSelector": "#section-step2 [data-ref='agent-context']",
                "content": "<div class='agent-context-header'><span class='agent-context-icon'>ğŸ•â€ğŸ¦º</span><h4 class='agent-context-title'>Rex' Excel-Tipp</h4><button class='agent-context-close' onclick='hideContextBlock(\"#section-step2 [data-ref=\\\"agent-context\\\"]\")' aria-label='Tipp schlieÃŸen'>âœ•</button></div><div class='agent-context-content'><p><strong>XLSX fÃ¼r Analysen:</strong> Excel-Exports sind ideal fÃ¼r Timeline-Analysen und statistische Auswertungen. Sie kÃ¶nnen die Daten filtern, sortieren und grafisch darstellen.</p></div>"
              }
            }
          ]
        }
      ],
      "questions": {
        "why-html": {
          "id": "why-html",
          "message": "<p>Gute Frage! ğŸ¤” HTML ist ideal weil:</p><ul><li>Interaktive Links zwischen Beweisen</li><li>Chat-Threads bleiben strukturiert</li><li>Emojis und Sonderzeichen funktionieren perfekt</li><li>Durchsuchbar im Browser</li></ul><p>Soll ich Ihnen zeigen, wie man HTML auswÃ¤hlt?</p>",
          "actions": [
            {
              "id": "show-html-selection",
              "type": "navigate",
              "icon": "âœ…",
              "label": "Ja, zeig mir wie!",
              "targetSelectors": ["#section-step2 [data-ref='explanation-text']"],
              "scrollBehavior": "smooth"
            },
            {
              "id": "ask-about-pdf", 
              "type": "askQuestion",
              "icon": "â“",
              "label": "Was ist mit PDF?",
              "question": "<p>PDF ist super fÃ¼r offizielle Dokumente! Soll ich mehr darÃ¼ber erzÃ¤hlen?</p>",
              "actions": [
                {
                  "id": "explain-pdf",
                  "type": "showInfo",
                  "icon": "ğŸ“„",
                  "label": "Ja, erklÃ¤re PDF",
                  "content": "<p>PDF-Reports sind unverÃ¤nderbar und perfekt fÃ¼r Gerichte. Sie bieten:</p><ul><li>Gerichtsfeste Dokumentation</li><li>Druckoptimierte Darstellung</li><li>PlattformunabhÃ¤ngige Anzeige</li><li>Automatisches Inhaltsverzeichnis</li></ul>"
                }
              ]
            }
          ]
        }
      }
    },

    "export-start-help": {
      "id": "export-start-help", 
      "title": "Export-Start Hilfe",
      "description": "Hilft beim Start des HTML-Report-Exports",
      "targetSelectors": [
        "#section-workflow [data-ref='step1-basic']",
        "#section-workflow [data-ref='step1-standard']"
      ],
      "initialMessage": "<p>Wuff! ğŸ•â€ğŸ¦º Ich helfe Ihnen beim Export-Start!</p><p>Es gibt zwei Wege, um einen HTML-Report zu erstellen. Welcher Weg interessiert Sie?</p>",
      "actions": [
        {
          "id": "main-menu-path",
          "type": "showInfo",
          "icon": "ğŸ“‹",
          "label": "HauptmenÃ¼-Weg (Datei â†’ Bericht/Export)",
          "content": "<p>Der klassische Weg Ã¼ber das HauptmenÃ¼:</p><ol><li><strong>Datei</strong> â†’ <strong>Bericht/Export erstellen</strong></li><li>Funktioniert von Ã¼berall in AXIOM</li><li>Alle Beweise stehen zur Auswahl</li></ol><p>Dieser Weg ist standardisiert und immer verfÃ¼gbar! ğŸ“‚</p>",
          "nextActions": [
            {
              "id": "show-menu-details",
              "type": "navigate",
              "icon": "ğŸ”",
              "label": "Mehr Details anzeigen",
                              "targetSelectors": ["#section-workflow [data-ref='step1-menu-path']"]
            }
          ]
        },
        {
          "id": "context-menu-path",
          "type": "showInfo", 
          "icon": "ğŸ¯",
          "label": "KontextmenÃ¼-Weg (Rechtsklick auf Beweise)",
          "content": "<p>Der effiziente Weg mit Vorauswahl:</p><ol><li>Beweise im <strong>Artifacts Explorer</strong> markieren</li><li><strong>Rechtsklick</strong> â†’ <strong>Bericht/Export erstellen</strong></li><li>AusgewÃ¤hlte Beweise sind bereits vorselektiert</li></ol><p>Zeitersparnis durch gezielte Auswahl! âš¡</p>",
          "nextActions": [
            {
              "id": "show-context-details",
              "type": "navigate",
              "icon": "ğŸ”", 
              "label": "Mehr Details anzeigen",
                              "targetSelectors": ["#section-workflow [data-ref='step1-context-path']"]
            }
          ]
        },
        {
          "id": "best-practice-tip",
          "type": "showInfo",
          "icon": "ğŸ’¡",
          "label": "Best Practice: Beweise taggen",
          "content": "<p><strong>Rex' Profi-Tipp:</strong> Taggen Sie wichtige Beweise VOR dem Export! ğŸ·ï¸</p><p>Warum das smart ist:</p><ul><li>Option 'Only tagged items' nutzen</li><li>Fokussierte Reports erstellen</li><li>Zeit bei der Auswahl sparen</li><li>Konsistente Ergebnisse</li></ul>",
          "nextActions": [
            {
              "id": "show-tip-details",
              "type": "navigate",
              "icon": "ğŸ’¡",
              "label": "Tip-Details anzeigen", 
                              "targetSelectors": ["#section-workflow [data-ref='step1-tip']"]
            }
          ]
        }
      ],
      "questions": {
        "export-methods": {
          "id": "export-methods",
          "message": "<p>Welche Export-Methode ist fÃ¼r Sie am besten geeignet? ğŸ¤”</p>",
          "expectInput": true,
          "inputPlaceholder": "Beschreiben Sie Ihre Situation...",
          "fallbackActions": [
            {
              "id": "general-guidance",
              "type": "showInfo",
              "icon": "ğŸ¯",
              "label": "Allgemeine Empfehlung",
              "content": "<p>FÃ¼r die meisten FÃ¤lle empfehle ich:</p><ul><li><strong>KontextmenÃ¼-Weg</strong> wenn Sie bereits wissen, welche Beweise Sie brauchen</li><li><strong>HauptmenÃ¼-Weg</strong> fÃ¼r umfassende Reports mit allen Daten</li><li><strong>Taggen</strong> fÃ¼r wiederkehrende Report-Arten</li></ul>"
            }
          ]
        }
      }
    },

    "intro-format-choice": {
      "id": "intro-format-choice",
      "title": "Format-Ãœberblick Einleitung",
      "description": "ErklÃ¤rt die Grundlagen der Format-Wahl", 
      "targetSelectors": [
        "#section-intro [data-ref='intro-text']",
        "#section-intro [data-ref='comparison-text']"
      ],
      "initialMessage": "<p>Wuff! ğŸ•â€ğŸ¦º Ich sehe, Sie lesen Ã¼ber die verschiedenen Report-Formate.</p><p>MÃ¶chten Sie mehr Ã¼ber die Unterschiede zwischen HTML, PDF und XLSX erfahren?</p>",
      "actions": [
        {
          "id": "explain-html-benefits",
          "type": "showInfo",
          "icon": "ğŸŒ",
          "label": "HTML-Vorteile erklÃ¤ren",
          "content": "<p><strong>HTML ist perfekt fÃ¼r:</strong></p><ul><li>ğŸ“± <strong>Chat-Analysen</strong> - Threading bleibt erhalten</li><li>ğŸ”— <strong>Interaktive Navigation</strong> - Links zwischen Beweisen</li><li>ğŸŒ <strong>Mehrsprachige Inhalte</strong> - UTF-8 Support</li><li>ğŸ” <strong>Browser-Suche</strong> - Durchsuchbar mit Strg+F</li></ul>",
          "nextActions": [
            {
              "id": "jump-to-format-section",
              "type": "navigate",
              "icon": "ğŸ¯",
              "label": "Zur Format-Auswahl springen",
                              "targetSelectors": ["#section-step2"]
            }
          ]
        },
        {
          "id": "format-comparison",
          "type": "showInfo",
          "icon": "âš–ï¸", 
          "label": "Alle Formate vergleichen",
          "content": "<p><strong>Schnellvergleich:</strong></p><table style='width:100%; border-collapse: collapse;'><tr><th style='border: 1px solid #ddd; padding: 8px;'>Format</th><th style='border: 1px solid #ddd; padding: 8px;'>Ideal fÃ¼r</th></tr><tr><td style='border: 1px solid #ddd; padding: 8px;'><strong>HTML</strong></td><td style='border: 1px solid #ddd; padding: 8px;'>Chat-Analysen, interaktive PrÃ¤sentation</td></tr><tr><td style='border: 1px solid #ddd; padding: 8px;'><strong>PDF</strong></td><td style='border: 1px solid #ddd; padding: 8px;'>Gerichtsberichte, finale Dokumentation</td></tr><tr><td style='border: 1px solid #ddd; padding: 8px;'><strong>XLSX</strong></td><td style='border: 1px solid #ddd; padding: 8px;'>Datenanalyse, Timeline-Auswertung</td></tr></table>",
          "nextActions": [
            {
              "id": "detailed-comparison",
              "type": "navigate", 
              "icon": "ğŸ“Š",
              "label": "Detailvergleich ansehen",
                              "targetSelectors": ["#section-step2 [data-ref='format-comparison']"]
            }
          ]
        }
      ]
    },

    "template-usage": {
      "id": "template-usage",
      "title": "Template-Nutzung erklÃ¤rt",
      "description": "Hilft bei der effektiven Nutzung von AXIOM-Templates",
      "targetSelectors": [
        "#section-intro [data-ref='technical-details']"
      ],
      "initialMessage": "<p>Wuff! ğŸ•â€ğŸ¦º Templates sind ein mÃ¤chtiges Werkzeug!</p><p>MÃ¶chten Sie lernen, wie Sie Templates effektiv nutzen kÃ¶nnen?</p>",
      "actions": [
        {
          "id": "template-benefits",
          "type": "showInfo",
          "icon": "âš¡",
          "label": "Warum Templates verwenden?",
          "content": "<p><strong>Templates sparen massiv Zeit:</strong></p><ul><li>ğŸ”„ <strong>Wiederkehrende Reports</strong> - Einmal konfigurieren, oft nutzen</li><li>âš¡ <strong>Konsistente Ergebnisse</strong> - Gleiche QualitÃ¤t bei jedem Export</li><li>ğŸ‘¥ <strong>Team-Standards</strong> - Alle nutzen gleiche Vorlagen</li><li>ğŸ¯ <strong>Spezialisierte Setups</strong> - Chat-Template, Forensik-Template, etc.</li></ul>",
          "nextActions": [
            {
              "id": "template-creation",
              "type": "askQuestion",
              "icon": "ğŸ› ï¸",
              "label": "Wie erstelle ich Templates?",
              "question": "<p>MÃ¶chten Sie lernen, wie man Templates erstellt und verwaltet? ğŸ¤”</p>",
              "actions": [
                {
                  "id": "template-steps",
                  "type": "showInfo",
                  "icon": "ğŸ“",
                  "label": "Ja, zeig mir die Schritte!",
                  "content": "<p><strong>Template-Erstellung in 4 Schritten:</strong></p><ol><li>ğŸ“‹ <strong>Export konfigurieren</strong> - Alle Einstellungen nach Wunsch</li><li>ğŸ’¾ <strong>'Save as Template'</strong> - Im Export-Dialog</li><li>ğŸ·ï¸ <strong>Namen vergeben</strong> - Z.B. 'Chat-Analyse-Standard'</li><li>âœ… <strong>Testen & Verfeinern</strong> - Template bei nÃ¤chstem Export nutzen</li></ol>"
                }
              ]
            }
          ]
        }
      ]
    }
  },

  "sectionTriggers": {
    "step2": {
      "id": "step2-trigger",
      "sectionId": "step2", 
      "contextId": "format-decision",
      "autoOpen": false,
      "delay": 2000,
      "conditions": {
        "intersectionRatio": 0.5,
        "dwellTime": 3000
      },
      "notificationMessage": "ğŸ’¡ Rex kann bei der Format-Wahl helfen!",
      "triggered": false
    },
    "intro": {
      "id": "intro-trigger",
      "sectionId": "intro",
      "contextId": "intro-format-choice", 
      "autoOpen": false,
      "delay": 5000,
      "conditions": {
        "intersectionRatio": 0.7,
        "dwellTime": 5000
      },
      "notificationMessage": "ğŸ•â€ğŸ¦º Rex erklÃ¤rt die Format-Unterschiede!",
      "triggered": false
    }
  },

  "globalSettings": {
    "agentName": "SpÃ¼rhund Rex",
    "agentIcon": "ğŸ•â€ğŸ¦º",
    "welcomeMessage": "<p>Wuff! ğŸ‰ Ich bin Rex, Ihr forensischer SpÃ¼rhund!</p><p>Ich helfe Ihnen durch die AXIOM-Auswertung. Stellen Sie mir Fragen oder lassen Sie sich von mir durch den Prozess fÃ¼hren.</p>",
    "fallbackMessage": "<p>Interessante Frage! Lassen Sie mich nachdenken... ğŸ¤” KÃ¶nnen Sie mir mehr Details geben?</p>",
    "errorMessage": "<p>Wuff! Da ist wohl etwas schiefgelaufen. ğŸ˜… KÃ¶nnen Sie das nochmal versuchen?</p>",
    "closeOnMobileAfterNavigation": true,
    "highlightDuration": 2000,
    "typingDelayMin": 800,
    "typingDelayMax": 1200,
    "scrollBehavior": "smooth"
  },

  "responsePatterns": {
    "keywords": {
      "html": {
        "responses": [
          "<p>Wuff! HTML-Reports sind ideal fÃ¼r interaktive Darstellung und Chat-Analysen. Sie bieten Hyperlinks und web-basierte Navigation. ğŸ¾</p>"
        ],
        "followUpActions": [
          {
            "id": "navigate-to-html-details",
            "type": "navigate", 
            "label": "Zu HTML-Details",
            "targetSelectors": ["#section-step2 [data-ref='format-html']"]
          }
        ]
      },
      "pdf": {
        "responses": [
          "<p>PDF-Reports eignen sich perfekt fÃ¼r Gerichtsberichte und finale Dokumentation. Sie sind unverÃ¤nderbar und druckoptimiert. ğŸ“„</p>"
        ],
        "followUpActions": [
          {
            "id": "navigate-to-pdf-details",
            "type": "navigate",
            "label": "Zu PDF-Details", 
            "targetSelectors": ["#section-step2 [data-ref='format-pdf']"]
          }
        ]
      },
      "hilfe|help": {
        "responses": [
          "<p>Gerne! Ich kann Ihnen bei folgenden Themen helfen: Report-Format wÃ¤hlen, Daten exportieren, Best Practices. Was interessiert Sie? ğŸ•â€ğŸ¦º</p>"
        ],
        "followUpActions": [
          {
            "id": "show-format-actions",
            "type": "showActions",
            "actions": [
              {
                "id": "explain-html-format",
                "icon": "ğŸŒ",
                "label": "HTML-Format erklÃ¤ren",
                "type": "showInfo",
                "content": "<p>HTML ist ideal fÃ¼r interaktive Reports!</p>",
                "contextId": "format-decision"
              },
              {
                "id": "start-export-help",
                "icon": "ğŸš€", 
                "label": "Export starten",
                "type": "showInfo",
                "content": "<p>Ich helfe beim Export-Start!</p>",
                "contextId": "export-start-help"
              }
            ]
          }
        ]
      }
    }
  }
}
