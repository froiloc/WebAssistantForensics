<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AXIOM HTML-Report Leitfaden</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/agent.css">
    <link rel="stylesheet" href="css/media.css">
</head>
<body>
    <!-- Top Navigation -->
    <nav class="top-nav" role="navigation" aria-label="Hauptnavigation">
        <div class="top-nav-left">
            <button id="menu-toggle" class="menu-toggle" aria-label="Menü öffnen" aria-expanded="false">
                <span class="hamburger-icon">
                    <span></span>
                    <span></span>
                    <span></span>
                </span>
            </button>
            
            <nav class="breadcrumb" aria-label="Breadcrumb">
                <ol class="breadcrumb-list">
                    <li class="breadcrumb-item">
                        <a href="#" id="breadcrumb-home" class="breadcrumb-link">
                            🏠 AXIOM Leitfaden
                        </a>
                    </li>
                    <li class="breadcrumb-separator" aria-hidden="true">›</li>
                    <li class="breadcrumb-item breadcrumb-current" aria-current="page">
                        <span id="breadcrumb-current">Überblick</span>
                    </li>
                </ol>
            </nav>
        </div>
        
        <div class="top-nav-right">
            <div class="detail-control-mini">
                <span class="detail-label">Detailgrad:</span>
                <div class="detail-buttons-mini">
                    <button 
                        class="detail-btn-mini active" 
                        data-level="1" 
                        aria-pressed="true"
                        title="Ebene 1: Basis">
                        1
                    </button>
                    <button 
                        class="detail-btn-mini" 
                        data-level="2" 
                        aria-pressed="false"
                        title="Ebene 2: Standard">
                        2
                    </button>
                    <button 
                        class="detail-btn-mini" 
                        data-level="3" 
                        aria-pressed="false"
                        title="Ebene 3: Vollständig">
                        3
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Menu Dropdown -->
    <div id="menu-dropdown" class="menu-dropdown" role="menu" aria-hidden="true">
        <button class="menu-item" id="show-history-btn" role="menuitem">
            <span class="menu-icon">📜</span>
            Verlauf ein/aus
        </button>
        <button class="menu-item" id="toggle-nav-sidebar-btn" role="menuitem">
            <span class="menu-icon">🗂️</span>
            Navigation ein/aus
        </button>
        <button class="menu-item" id="toggle-tips-footer-btn" role="menuitem">
            <span class="menu-icon">💡</span>
            Tipps ein/aus
        </button>
        
        <hr style="margin: 5px 0; border: none; border-top: 1px solid #e0e0e0;">
        
        <button class="menu-item" id="toggle-theme" role="menuitem" aria-label="Theme wechseln">
            <div class="theme-icon">
                <div></div>
                <div></div>
                <div></div>
                <div></div>
            </div>
            Theme: <span id="current-theme">System</span>
        </button>

        <button class="menu-item" id="toggle-media-layer" role="menuitem">
            <span class="menu-icon">🖼️</span>
            Medien: <span id="media-layer-status">Standard</span>
        </button>
        
        <button class="menu-item" id="toggle-contrast" role="menuitem">
            <span class="menu-icon">🌗</span>
            Bild-Kontrast erhöhen
        </button>
    </div>

    <!-- Sidebar Container (zentrale Verwaltung) -->
    <div id="sidebar-container" class="sidebar-container">

        <!-- Navigation Sidebar -->
        <div id="sidebar-navigation" class="sidebar-wrapper" data-sidebar="navigation">
            <!-- Tab Header (immer sichtbar) -->
            <div class="sidebar-tab-header" tabindex="0" role="button" aria-expanded="false">
                <button class="sidebar-tab-button" aria-label="Navigation öffnen/schließen" data-sidebar="navigation">
                    <span class="sidebar-tab-icon">📑</span>
                    <span class="sidebar-tab-text">Navigation</span>
                </button>

                <!-- Close-Button im Header -->
                <button class="sidebar-close-btn"
                        aria-label="Navigation schließen"
                        data-sidebar="navigation">
                    ✕
                </button>
            </div>

            <div class="sidebar-tab-body">
                <!-- Subheader (nur bei aktiver Sidebar) -->
                <div class="sidebar-subheader">
                    <span style="font-size: 0.9em; color: var(--color-text-secondary);">
                        Abschnitte
                    </span>
                </div>

                <!-- Body (Content-Bereich) -->
                <div class="sidebar-body">
                    <ul class="nav-tree" role="tree">
                        <!-- Wird dynamisch von script-navigation.js generiert -->
                    </ul>
                </div>

                <!-- Footer (Footer-Bereich) -->
                <div class="sidebar-footer">
                </div>
            </div>
        </div>

        <!-- Verlauf Sidebar -->
        <div id="sidebar-history" class="sidebar-wrapper" data-sidebar="history">
            <!-- Tab Header (immer sichtbar) -->
            <div class="sidebar-tab-header" tabindex="0" role="button" aria-expanded="false">
                <button class="sidebar-tab-button"
                        aria-label="Verlauf öffnen/schließen"
                        data-sidebar="history">Verlauf
                </button>

                <!-- Close-Button im Header -->
                <button class="sidebar-close-btn"
                        aria-label="Verlauf schließen"
                        data-sidebar="history">
                    ✕
                </button>
            </div>

            <div class="sidebar-tab-body">
                <!-- Subheader (nur bei aktiver Sidebar) -->
                <div class="sidebar-subheader">
                    <div id="history-controls-subheader" style="display: flex; gap: 10px;">
                        <button id="time-format-toggle"
                                class="btn-secondary"
                                aria-label="Zeitformat umschalten">
                            🕐 Zeit: Relativ
                        </button>
                    </div>
                </div>

                <!-- Body (Content-Bereich) -->
                <div class="sidebar-body">
                    <div id="history-list"></div>
                    <div id="history-empty" class="history-empty">Noch keine Einträge</div>
                </div>

                <!-- Footer (Löschen-Button) -->
                <div class="sidebar-footer">
                    <div id="history-controls-footer" style="display: flex; gap: 10px;">
                        <button id="clear-history-btn"
                                class="btn-secondary btn-secondary-destructive"
                                aria-label="Verlauf löschen">
                            🗑️ Löschen
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Weitere Sidebars kommen hier später hinzu (Favoriten, etc.) -->

    </div>

    <!-- Main Container -->
    <div class="container">
        <header>
            <h1 data-ref="main-title">HTML-Report-Erstellung mit Magnet AXIOM Examiner</h1>
            <p class="subtitle" data-ref="main-subtitle">Interaktiver Leitfaden für polizeiliche Ermittlungsarbeit</p>
        </header>

        <!-- Hauptinhalt -->
        <main>
            <!-- Einleitung -->
            <section class="content-section" 
                     id="section-intro" 
                     data-section="intro"
                     data-title="Überblick">
                     
                <div class="detail-level-1" data-ref="intro-basic">
                    <h2 data-ref="heading">Überblick</h2>
                    <p data-ref="intro-text">
                        Die Erstellung von HTML-Reports in Magnet AXIOM Examiner folgt einem strukturierten 8-Schritt-Workflow, der polizeilichen Anwendern ermöglicht, professionelle, gerichtsverwertbare Berichte zu erstellen. <strong>HTML-Reports bieten interaktive Navigation, UTF-8-Unterstützung für mehrsprachige Inhalte und web-basierte Darstellung</strong>, die sie besonders für Chat-Analysen und Verbindungsdarstellungen geeignet macht.
                    </p>
                    <div class="agent-context-block"
                         id="agent-context-intro-format"
                         data-ref="agent-context"
                         data-context-id="intro-format-choice"
                         style="display: none;">
                        <!-- Wird dynamisch vom Agent mit Inhalten gefüllt -->
                    </div>
                </div>

                <div class="detail-level-2" data-ref="intro-standard">
                    <p data-ref="comparison-text">
                        Im Gegensatz zu statischen PDF-Reports ermöglichen HTML-Reports Hyperlinks zwischen Beweisgegenständen und können direkt im Browser präsentiert werden. Der HTML-Export-Prozess nutzt einen benutzerfreundlichen Wizard mit klaren Entscheidungspunkten, umfasst aber erweiterte Konfigurationsmöglichkeiten für erfahrene Anwender.
                    </p>
                    <div class="agent-context-block"
                         data-ref="agent-context-comparison"
                         data-context-id="format-comparison"
                         style="display: none;">
                        <!-- Wird dynamisch vom Agent mit Inhalten gefüllt -->
                    </div>
                </div>

                <div class="detail-level-3" data-ref="intro-detailed">
                    <div class="info-box" data-ref="technical-details">
                        <h4 data-ref="tech-details-heading">Technische Details zur HTML-Report-Struktur</h4>
                        <p data-ref="template-info">
                            Polizeimitarbeiter können durch Template-Nutzung wiederkehrende Report-Arten standardisieren und die Bearbeitungszeit erheblich verkürzen. Die wichtigsten Entscheidungspunkte liegen in der Format-Wahl (HTML vs. PDF vs. XLSX), der Inhaltsauswahl und den spezifischen HTML-Formatierungsoptionen.
                        </p>
                        <div class="agent-context-block"
                             data-ref="agent-context-templates"
                             data-context-id="template-usage"
                             style="display: none;">
                            <!-- Wird dynamisch vom Agent mit Inhalten gefüllt -->
                        </div>
                        <p data-ref="structure-heading"><strong>HTML-spezifische Ausgabe-Struktur:</strong></p>
                        <ul data-ref="structure-list">
                            <li data-ref="structure-main"><code>Report.html</code> - Hauptberichtsdatei</li>
                            <li data-ref="structure-attachments"><code>Attachments/</code> - Anhänge-Ordner</li>
                            <li data-ref="structure-images"><code>Images/</code> - Bilder-Ordner</li>
                            <li data-ref="structure-styles"><code>Styles/</code> - CSS-Stilvorlagen</li>
                            <li data-ref="structure-scripts"><code>Scripts/</code> - JavaScript-Dateien</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- 8-Schritt Workflow -->
            <section class="content-section" 
                     id="section-workflow" 
                     data-section="workflow"
                     data-title="8-Schritt Workflow">
                     
                <h2 data-ref="heading">Der komplette 8-Schritt Workflow</h2>

                <!-- Schritt 1 -->
                <div class="detail-level-1" data-ref="step1-basic">
                    <h3 data-ref="step1-heading">Schritt 1: Export starten</h3>
                    <p data-ref="step1-menu">
                        <span class="menu-path">
                            <strong>Menü:</strong> Datei → Bericht/Export erstellen
                            <button class="media-help-trigger"
                                    data-media-src="media/screenshots/menu-datei-bericht.png"
                                    data-media-alt="Screenshot: Menü Datei mit ausgewähltem Eintrag Bericht/Export erstellen"
                                    aria-label="Screenshot der Menüführung anzeigen"
                                    title="Screenshot anzeigen">
                                🔍
                            </button>
                        </span>
                    </p>
                    <p data-ref="step1-context"><strong>Oder:</strong> Rechtsklick auf markierte Beweise → "Bericht/Export erstellen"</p>
                </div>

                <div class="detail-level-2" data-ref="step1-standard">
                    <p data-ref="step1-explanation">
                        Der HTML-Report-Export startet über zwei Wege: <strong>Datei → Bericht/Export erstellen</strong> im Hauptmenü oder durch <strong>Rechtsklick auf markierte Beweise</strong> im Artifacts Explorer und Auswahl von "Bericht/Export erstellen". Der Kontextmenü-Weg ist effizienter, da bereits relevante Beweise vorausgewählt sind.
                    </p>
                    <div class="agent-context-block"
                         data-ref="agent-context-export-start"
                         data-context-id="export-start-help"
                         style="display: none;">
                        <!-- Wird dynamisch vom Agent mit Inhalten gefüllt -->
                    </div>

                    <div class="tip-box" data-ref="step1-tip">
                        <strong>Best Practice:</strong> Taggen Sie wichtige Beweise vor dem Export-Start, um später die Option "Only tagged items" nutzen zu können.
                    </div>
                </div>

                <div class="detail-level-3" data-ref="step1-detailed">
                    <h4 data-ref="step1-interface-heading">Benutzeroberfläche im Detail</h4>
                    <p data-ref="step1-menu-path">
                        <strong>Hauptmenü-Pfad:</strong> Der vollständige Menüpfad führt von der Hauptmenüleiste über "Datei" zum Untermenü "Bericht/Export erstellen". Dieser Weg ist standardisiert und funktioniert unabhängig von der aktuellen Ansicht.
                    </p>
                    <div class="agent-context-block"
                         data-ref="agent-context-menu-path"
                         data-context-id="menu-path-details"
                         style="display: none;">
                        <!-- Wird dynamisch vom Agent mit Inhalten gefüllt -->
                    </div>

                    <figure class="media-figure" data-media-type="image">
                        <img src="media/annotated/axiom-menu-marked-thumb.png"
                             data-fullsize="media/annotated/axiom-menu-marked.png"
                             alt="AXIOM Hauptmenü mit nummerierten Schritten: 1. Datei-Menü, 2. Bericht/Export erstellen"
                             class="media-thumbnail"
                             loading="lazy">
                        <figcaption>Schrittweise Anleitung: Export starten (mit Markierungen)</figcaption>
                    </figure>

                    <p data-ref="step1-context-path">
                        <strong>Kontextmenü-Pfad:</strong> Im Artifacts Explorer können Sie eine oder mehrere Beweisgruppen markieren (mit gedrückter Strg-Taste für Mehrfachauswahl), dann Rechtsklick und "Bericht/Export erstellen" wählen. Diese Methode ist besonders zeitsparend bei fokussierten Exporten.
                    </p>
                    <div class="agent-context-block"
                         data-ref="agent-context-context-path"
                         data-context-id="context-path-details"
                         style="display: none;">
                        <!-- Wird dynamisch vom Agent mit Inhalten gefüllt -->
                    </div>

                    <h4>Video-Tutorial: Kompletter Export-Prozess</h4>
                    <figure class="media-figure" data-media-type="video">
                        <video class="media-video" 
                               controls 
                               preload="metadata"
                               poster="media/videos/export-workflow-poster.jpg">
                            <source src="media/videos/export-workflow.mp4" type="video/mp4">
                            <!-- Track wird automatisch hinzugefügt falls .vtt existiert -->
                            Ihr Browser unterstützt keine Videos.
                        </video>
                        <figcaption>Video: Kompletter Export-Workflow (2:34 Min)</figcaption>
                    </figure>

                    <span class="agent-inline-trigger"
                          data-ref="inline-trigger-help"
                          data-agent-context="export-start-help"
                          data-agent-question="export-methods"
                          title="Spürhund Rex um Hilfe bitten"
                          role="button"
                          tabindex="0">
                        🐕‍🦺 <span class="agent-trigger-text">Hilfe zum Export-Start</span>
                    </span>
                </div>
            </section>

            <!-- Schritt 2: Format HTML wählen -->
            <section class="content-section"
                     id="section-step2"
                     data-section="step2"
                     data-title="Schritt 2: Format HTML wählen">

                <div class="detail-level-1" data-ref="step2-basic">
                    <h3 data-ref="heading">Schritt 2: Format HTML wählen</h3>
                    <p data-ref="intro-text">
                        <strong>Wichtig:</strong> Wählen Sie "HTML" aus den verfügbaren Report-Formaten
                    </p>
                </div>

                <div class="detail-level-2" data-ref="step2-standard">
                    <p data-ref="explanation-text">
                        Im Dialog "Export / report format" wählen Sie <strong>HTML</strong> aus den
                        verfügbaren Optionen (Excel, XML, HTML, PST, PDF, CSV, JSON, Load File, Portable Case).
                    </p>

                    <!-- Agent Inline Trigger -->
                    <span class="agent-inline-trigger"
                          data-ref="inline-trigger-why-html"
                          data-agent-context="format-decision"
                          data-agent-question="why-html"
                          title="Warum HTML wählen?"
                          role="button"
                          tabindex="0">
                        🐕‍🦺 <span class="agent-trigger-text">Warum HTML?</span>
                    </span>

                    <figure class="media-figure" data-media-type="image">
                        <img src="media/screenshots/format-selection-thumb.png" 
                             data-fullsize="media/screenshots/format-selection.png"
                             alt="AXIOM Export-Dialog mit Format-Auswahl, HTML ist hervorgehoben"
                             class="media-thumbnail"
                             loading="lazy">
                        <figcaption>Export-Dialog: HTML-Format wählen</figcaption>
                    </figure>

                    <!-- Agent Context Block -->
                    <div class="agent-context-block"
                         data-ref="agent-context"
                         data-context-id="format-decision"
                         style="display: none;">
                    </div>

                    <ul data-ref="format-options">
                        <li data-ref="format-html"><strong>HTML wählen:</strong> Für interaktive Darstellung, Chat-Thread Exports</li>
                        <li data-ref="format-pdf"><strong>PDF wählen:</strong> Für Gerichtsberichte, finale Dokumentation</li>
                        <li data-ref="format-xlsx"><strong>XLSX wählen:</strong> Für Timeline-Analysen, statistische Auswertungen</li>
                    </ul>
                </div>

                <div class="detail-level-3" data-ref="step2-detailed">
                    <div class="info-box" data-ref="format-comparison">
                        <h4 data-ref="comparison-heading">Detaillierte Format-Vergleich</h4>
                        <p data-ref="html-advantages">
                            <strong>HTML-Vorteile:</strong> Interaktive Navigation, UTF-8-Support, Web-basierte Präsentation, Hyperlinks zwischen Beweisen, durchsuchbar im Browser.
                        </p>
                        <p data-ref="pdf-advantages">
                            <strong>PDF-Vorteile:</strong> Unveränderbar, gerichtsfest, druckoptimiert, plattformunabhängig, automatisches Inhaltsverzeichnis.
                        </p>
                        <p data-ref="xlsx-advantages">
                            <strong>XLSX-Vorteile:</strong> Timeline-Analysen, filterbare Tabellen, statistische Auswertungen, Weiterverarbeitung in Excel.
                        </p>
                    </div>
                </div>
            </section>

            <!-- Best Practices -->
            <section class="content-section" 
                     id="section-bestpractices"
                     data-section="bestpractices"
                     data-title="Best Practices">
                     
                <h2 data-ref="heading">Wichtige Hinweise und Best Practices</h2>

                <div class="detail-level-1" data-ref="basic-warnings">
                    <div class="warning-box" data-ref="common-mistakes">
                        <h3 data-ref="mistakes-heading">Häufige Fehler vermeiden</h3>
                        <ul data-ref="mistakes-list">
                            <li data-ref="mistake-large-reports"><strong>Zu große Reports:</strong> "Select All" vermeiden, nur fallrelevante Kategorien wählen</li>
                            <li data-ref="mistake-missing-images"><strong>Fehlende Bilder:</strong> "Include preview images" muss aktiviert sein</li>
                            <li data-ref="mistake-old-templates"><strong>Veraltete Templates:</strong> Regelmäßig Templates aktualisieren</li>
                        </ul>
                    </div>
                </div>

                <div class="detail-level-2" data-ref="workflow-tips">
                    <div class="tip-box" data-ref="recommended-workflow">
                        <h3 data-ref="workflow-heading">Empfohlener Workflow</h3>
                        <ol data-ref="workflow-steps">
                            <li data-ref="workflow-step1"><strong>Vorbereitung:</strong> Wichtige Beweise taggen vor Export-Start</li>
                            <li data-ref="workflow-step2"><strong>Template nutzen:</strong> Zeitersparnis durch gespeicherte Vorlagen</li>
                            <li data-ref="workflow-step3"><strong>Qualitätskontrolle:</strong> HTML-Report in verschiedenen Browsern testen</li>
                            <li data-ref="workflow-step4"><strong>Archivierung:</strong> Templates und Processing-Logs dokumentieren</li>
                        </ol>
                    </div>
                </div>
            </section>

            <!-- Zusammenfassung -->
            <section class="content-section" 
                     id="section-summary"
                     data-section="summary"
                     data-title="Zusammenfassung">
                     
                <h2 data-ref="heading">Zusammenfassung</h2>

                <div class="detail-level-1" data-ref="summary-basic">
                    <p data-ref="main-conclusion">
                        HTML-Reports in AXIOM Examiner bieten <strong>polizeilichen Ermittlern eine leistungsfähige, benutzerfreundliche Lösung</strong> für interaktive Evidenz-Präsentation. Der strukturierte 8-Schritt-Workflow ermöglicht auch IT-Laien die Erstellung professioneller, gerichtsverwertbarer Berichte.
                    </p>
                    <div class="agent-context-block"
                         data-ref="agent-context-conclusion"
                         data-context-id="summary-conclusion"
                         style="display: none;">
                        <!-- Wird dynamisch vom Agent mit Inhalten gefüllt -->
                    </div>
                </div>

                <div class="detail-level-2" data-ref="summary-detailed">
                    <p data-ref="advanced-conclusion">
                        Die Template-Funktionalität ermöglicht standardisierte Workflows, während erweiterte HTML-Features wie Cross-References und Search-Funktionen komplexe Analysen unterstützen. <strong>Für Chat-Analysen und Verbindungsdarstellungen ist HTML das Format der Wahl</strong>, während PDF für Gerichtsverfahren und XLSX für Datenanalyse optimal sind.
                    </p>
                    <div class="agent-context-block"
                         data-ref="agent-context-advanced"
                         data-context-id="advanced-features"
                         style="display: none;">
                        <!-- Wird dynamisch vom Agent mit Inhalten gefüllt -->
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer>
            <p data-ref="disclaimer"><strong>Hinweis:</strong> Dieser Leitfaden basiert auf Magnet AXIOM Examiner. Spezifische Funktionen können je nach Version variieren.</p>
            <p data-ref="contact">Für Rückfragen wenden Sie sich an Ihre IT-Forensik-Abteilung.</p>
            <div class="footer-actions">
                <button id="show-tips-footer-btn" class="footer-btn" style="display: none;">
                    💡 Tipps einblenden
                </button>
            </div>
        </footer>
    </div>

    <!-- Agent Toggle Button -->
    <button id="agent-toggle" class="agent-toggle" aria-label="Spürhund-Assistent öffnen/schließen" aria-expanded="false">
        <span class="agent-icon">🐕‍🦺</span>
        <span class="agent-notification-badge" id="agent-notification" style="display: none;">!</span>
    </button>

    <!-- Notizblock Toggle Button -->
    <button id="notes-toggle" class="notes-toggle" aria-label="Notizblock öffnen/schließen" aria-expanded="false">
        <span class="toggle-icon">📝</span>
    </button>

    <!-- Notizblock Sidebar -->
    <aside id="notes-sidebar" class="notes-sidebar" aria-label="Notizblock">
        <div class="notes-header">
            <h2 class="notes-title">Notizen</h2>
            <button id="close-notes-sidebar" class="close-btn" aria-label="Notizen schließen">✕</button>
        </div>
        <div class="notes-content">
            <textarea 
                id="notes-textarea" 
                placeholder="Hier können Sie Notizen eintragen. Diese werden automatisch gespeichert..."
                aria-label="Notizfeld"></textarea>
        </div>
        <div class="notes-footer">
            <button id="clear-notes" class="btn-secondary btn-secondary-destructive">🗑️  Notizen löschen</button>
            <span class="save-indicator" id="save-indicator">Automatisch gespeichert</span>
        </div>
    </aside>

    <!-- Agent Sidebar -->
    <aside id="agent-sidebar" class="agent-sidebar" aria-label="Spürhund-Assistent" role="complementary">
        <div class="agent-header">
            <div class="agent-avatar">
                <div class="agent-dog">🐕‍🦺</div>
                <div class="agent-status-indicator" id="agent-status"></div>
            </div>
            <div class="agent-title">
                <h2>Spürhund Rex</h2>
                <p class="agent-subtitle">Ihr forensischer Begleiter</p>
            </div>
            <button id="close-agent-sidebar" class="close-btn" aria-label="Assistent schließen">✕</button>
        </div>

        <div class="agent-content" id="agent-chat-container">
            <div class="agent-welcome-message">
                <div class="agent-message agent-message-assistant">
                    <div class="agent-message-avatar">🐕‍🦺</div>
                    <div class="agent-message-bubble">
                        <p>Wuff! 🎉 Ich bin Rex, Ihr forensischer Spürhund!</p>
                        <p>Ich helfe Ihnen durch die AXIOM-Auswertung. Stellen Sie mir Fragen oder lassen Sie sich von mir durch den Prozess führen.</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="agent-footer">
            <div class="agent-quick-actions" id="agent-quick-actions">
                <!-- Schnellaktionen werden hier dynamisch eingefügt -->
            </div>
            <div class="agent-input-container" style="display: none;" id="agent-input-container">
                <input
                    type="text"
                    id="agent-input"
                    class="agent-input"
                    placeholder="Antwort eingeben..."
                    aria-label="Antwort an Spürhund"
                />
                <button id="agent-send-btn" class="agent-send-btn" aria-label="Antwort senden">
                    ➤
                </button>
            </div>
        </div>
    </aside>

    <!-- Tips Footer -->
    <div id="tips-footer" class="tips-footer" role="complementary" aria-label="Tipps und Tastenkombinationen">
        <button id="tips-prev-btn" class="tips-nav-btn tips-prev-btn" aria-label="Vorheriger Tipp" title="Vorheriger Tipp">
            ◀
        </button>
        
        <div class="tips-content">
            <span class="tips-icon">💡</span>
            <p id="tips-text" class="tips-text">Laden...</p>
        </div>
        
        <button id="tips-next-btn" class="tips-nav-btn tips-next-btn" aria-label="Nächster Tipp" title="Nächster Tipp">
            ▶
        </button>
        
        <button id="close-tips-footer" class="tips-close-btn" aria-label="Tipps ausblenden">✕</button>
    </div>

    <!-- Scripts -->
    <!-- WICHTIG: Reihenfolge ist kritisch für die Initialisierung! -->

    <!-- 1. CORE - Basis-Funktionen und globale Variablen (MUSS ZUERST geladen werden) -->
    <script src="js/script-core.js"></script>

    <!-- 2. STATE MANAGER - Zentrale Zustandsverwaltung (NEU - MUSS VOR allen anderen Modulen geladen werden!) -->
    <script src="js/script-state-manager.js"></script>

    <!-- 3. SECTION MANAGEMENT - Kern-Funktionalität für Section-Auswahl -->
    <script src="js/script-section-management.js"></script>

    <!-- 4. Sidebar Manager (MUSS vor den individuellen Sidebars geladen werden) -->
    <script src="js/script-sidebar-manager.js"></script>

    <!-- 5. NAVIGATION - Navigation, Sidebar, Menu, Breadcrumb -->
    <script src="js/script-navigation.js"></script>

    <!-- 6. HISTORY - Section-History Tracking -->
    <script src="js/script-history.js"></script>

    <!-- 7. NOTES - Notizen-Feature -->
    <script src="js/script-notes.js"></script>

    <!-- 8. DETAIL LEVEL - Detail-Level-System -->
    <script src="js/script-detail-level.js"></script>

    <!-- 9. TIPS - Tips-Footer mit Rotation -->
    <script src="js/script-tips.js"></script>

    <!-- 10. PREFERENCES - User Preferences Management -->
    <script src="js/script-preferences.js"></script>

    <!-- 11. THEME - Theme Management System -->
    <script src="js/script-theme.js"></script>

    <!-- 12. INIT - Haupt-Initialisierung (MUSS ZULETZT geladen werden) -->
    <script src="js/script-init.js"></script>
    <script src="js/agent.js"></script>
    <script src="js/media-handler.js"></script>
</body>
</html>
